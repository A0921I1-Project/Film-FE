<div>
  <div class="row">
    <div class="col-sm-2 p-0" style="height:100vh;  background-color: rgba(0,0,0,0.52);">
      <div class="list-group ng-dark">
        <a href="#" class="list-group-item list-group-item-action"><i
          class="bi bi-film"></i> Bán vé </a>
        <a href="#" class="list-group-item list-group-item-action"><i
          class="bi bi-ticket-perforated-fill"></i> Quản lí đặt vé</a>
        <a href="#" class="list-group-item list-group-item-action"><i
          class="bi bi-person-fill"></i> Quản lí nhân viên</a>
        <a href="#" class="list-group-item list-group-item-action"><i
          class="bi bi-credit-card-2-back-fill"></i> Quản lí thành viên</a>
        <a href="#" class="list-group-item list-group-item-action"><i
          class="bi bi-camera-reels-fill"></i> Quản lí phim</a>
        <a href="#" class="list-group-item list-group-item-action"><i
          class="bi bi-calendar-week-fill"></i> Quản lí khuyến mãi</a>
        <a href="#" class="list-group-item list-group-item-action"><i
          class="bi bi-camera-video-fill"></i> Quản lí phòng chiếu</a>
        <a href="#" class="list-group-item list-group-item-action"><i
          class="bi bi-bar-chart-line-fill"></i> Quản lí thống kê </a>
      </div>
    </div>
    <div class="col-sm-10 p-4">
      <div class="container border" style="background-color: rgba(0,0,0,0.7)">
        <h1 class="mt-4 mb-4" style="color: red;font-weight: bold">Quản lý phim</h1>
        <hr style="color: white;  ">
        <button class="btn btn-primary float-right mb-3">Thêm mới</button>
        <form class="form-inline" method="post" [formGroup]="searchForm" (ngSubmit)="onSearch()">
          <input class="form-control mr-sm-2" type="search" placeholder="Tìm kiếm" aria-label="Tìm kiếm" formControlName="name">
          <button class="btn btn-success my-2 my-sm-0" type="submit">Search</button>
        </form>
        <table class="table text-center">
          <thead style="color: red">
          <tr>
            <th scope="col">#</th>
            <th scope="col">Phim</th>
            <th scope="col">Ngày khởi chiếu</th>
            <th scope="col">Hãng phim</th>
            <th scope="col">Đạo diễn</th>
            <th scope="col">Diễn viên</th>
            <th scope="col">Thời lượng</th>
            <th scope="col"></th>
          </tr>
          </thead>
          <tbody style="color: white">
          <tr *ngFor="let film of films;index as i">
            <td>{{i + 1}}</td>
            <td>{{film.name | uppercase}}</td>
            <td>{{film.startDate | date:'dd-MM-yyyy'}}</td>
            <td>{{film.studioName}}</td>
            <td>{{film.director}}</td>
            <td id="actor">{{film.actor}}</td>
            <td>{{film.duration}} phút</td>
            <td>
              <button class="btn btn-outline-warning" [routerLink]="['/film/edit', film.id]"><i class="bi bi-pencil-fill"></i></button>
              <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#myModal"
                      (click)="findFilmDeleteById(film.name,film.id)">
                <i class="bi bi-trash3-fill"></i>
              </button>
            </td>
          </tr>
          </tbody>
        </table>
        <!--    Phân trang-->
        <div class="mt-3">
          <nav aria-label="Page navigation example">
            <ul class="pagination d-flex justify-content-md-end justify-content-center">
              <li class="page-item">
                <button class="page-link" (click)="firstPage()" *ngIf="indexPagination != 1">Đầu</button>
              </li>
              <li class="page-item">
                <button class="page-link" (click)="previousPage()" *ngIf="indexPagination != 1">Trang trước</button>
              </li>

              <li class="page-item col-md-1 col-2  px-0 text-center" style="line-height: 38px;color: white">
                <span>{{indexPagination}}</span>/<span>{{totalPages}}</span>
              </li>

              <li class="page-item">
                <button class="page-link" (click)="nextPage()" *ngIf="indexPagination != totalPages">Trang kế</button>
              </li>
              <li class="page-item">
                <button class="page-link" (click)="lastPage()" *ngIf="indexPagination != totalPages">Cuối</button>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>


<!-- The Modal -->
<div class="modal" id="myModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Bạn có muốn xoá Phim có tên :</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <!-- Modal body -->
      <div class="modal-body">
        <h5 style="color: blue">{{name | uppercase}}</h5><hr>
        <h6 style="color: red">* Lưu ý : thao tác này không thể hoàn tác</h6>
      </div>
      <!-- Modal footer -->
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Huỷ</button>
        <button type="button" class="btn btn-danger" data-dismiss="modal" (click)="deleteFilm(id)">Xoá</button>
      </div>
    </div>
  </div>
</div>

